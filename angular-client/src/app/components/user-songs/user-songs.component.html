@if(loading || loadingSongs) {
  <div class="spinner-container">
    <mat-spinner color="accent"></mat-spinner>
  </div>
}

@if(!loading && !loadingSongs) {
  <div class="user-songs-container">
    <h2 class="header">
      {{ user?.name }}'s Songs ({{ songs.length }})
    </h2>

    @if(songs.length === 0) {
      <div class="no-songs">
        No songs found for this user.
      </div>
    } @else {
      <div class="songs-grid">
        @for(song of songs; track song.id) {
          <app-song-card
            [song]="song"
            (play)="playSong($event)"
            (delete)="deleteSong($event)"
            (edit)="updateSong($event)"
            (download)="downloadSong($event)">
          </app-song-card>
        }
      </div>
    }

    <div class="actions">
      <button mat-stroked-button color="accent" (click)="goBack()">
        <mat-icon>arrow_back</mat-icon>
        Back to User
      </button>

      <button mat-stroked-button color="primary" (click)="goToUsers()">
        <mat-icon>group</mat-icon>
        All Users
      </button>
    </div>
  </div>
}
